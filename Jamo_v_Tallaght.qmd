---
title: "Dublin Midlands WaW Viewer"
format: 
  dashboard:
    theme: flatly
    logo: images/clock-history.svg
---

```{r}
library(plotly)
library(DT)
source("getData.R")
```


# Outpatients


## Column - Group WAW {height = "60%"}

```{r}
#| title: Weighted Average Wait Time Since 2022

plot_ly(Hospital_WaW, x = ~report_date, y = ~WaW, color = ~`hospital name`, type = 'scatter', mode = 'lines+markers') %>% 
    layout(
    xaxis = list(title = "Week Ending", showgrid = FALSE),
    yaxis = list(title = "Weighted Average Wait Time"),
    plot_bgcolor = 'rgba(255, 255, 255, 0)', # 50% transparent white
    paper_bgcolor = 'rgba(255, 255, 255, 0.5)' # 50% transparent white
  )


```

## Column {height="40%"}

### Row - Current WaW Table {width="50%"}
```{r}
#| title: Current WaW by Hospital

# Create the table
current_hospital_WaW %>% 
  select(-report_date) %>% 
  rename(Hospital = `hospital name`) %>% 
datatable(
          options = list(
            paging = FALSE,       # Disable paging
            searching = FALSE,    # Disable search box
            columnDefs = list(
              list(targets = 0, width = '200px'),  # Adjust width of hospital name column
              list(targets = 1, width = '100px')   # Adjust width of WaW column
            )
          )
            ,rownames = FALSE)

```

### Row - Specialty WaW Table {width="50%"}

```{r}
#| title: Current WaW by Speaciality

# Create the table
current_speciality_WaW %>% 
  select(-report_date) %>% 
datatable(
          options = list(
            paging = FALSE,       # Disable paging
            searching = FALSE,    # Disable search box
            columnDefs = list(
              list(targets = 0, width = '200px'),  # Adjust width of hospital name column
              list(targets = 1, width = '100px')   # Adjust width of WaW column
            )
          )
            ,rownames = FALSE)
```


